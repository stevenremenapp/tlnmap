(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e){e.exports=[{name:"Bloomfield Township Public Library",city:"Bloomfield Township",latitude:42.565705,longitude:-83.28154,sharedSystem:"n",miLibraryCard:"n","multi-branch":"n",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"https://btpl.org/",tlnProfilePage:"https://tln.lib.mi.us/md/bloo/",tlnCode:"BLOO76",selected:"n"},{name:"Redford Township District Library",city:"Redford Township",latitude:42.414594,longitude:-83.289574,sharedSystem:"y",miLibraryCard:"y","multi-branch":"n",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"http://redfordlibrary.org/",tlnProfilePage:"https://tln.lib.mi.us/md/redf/",tlnCode:"REDF09",selected:"n"},{name:"Ferndale Area District Library",city:"Ferndale",latitude:42.460289,longitude:-83.132285,sharedSystem:"y",miLibraryCard:"y","multi-branch":"n",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"https://www.ferndalepubliclibrary.org/",tlnProfilePage:"https://tln.lib.mi.us/md/fern/",tlnCode:"FERN69",selected:"n"},{name:"Royal Oak Public Library",city:"Royal Oak",latitude:42.48945,longitude:-83.142567,sharedSystem:"y",miLibraryCard:"y","multi-branch":"n",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"https://www.romi.gov/148/Library",tlnProfilePage:"https://tln.lib.mi.us/md/roak/",tlnCode:"ROAK65",selected:"n"},{name:"William P. Faust Public Library of Westland",city:"Westland",latitude:42.328594,longitude:-83.400387,sharedSystem:"n",miLibraryCard:"y","multi-branch":"n",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"http://www.westlandlibrary.org/",tlnProfilePage:"https://tln.lib.mi.us/md/wtld/",tlnCode:"WTLD63",selected:"n"},{name:"Pontiac Public Library",city:"Pontiac",latitude:42.636802,longitude:-83.288836,sharedSystem:"y",miLibraryCard:"n","multi-branch":"n",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"http://pontiac.lib.mi.us/",tlnProfilePage:"https://tln.lib.mi.us/md/pont/",tlnCode:"PONT41",selected:"n"},{name:"Livonia Public Library - Civic Center Library",city:"Livonia",latitude:42.39635,longitude:-83.368157,sharedSystem:"y",miLibraryCard:"y","multi-branch":"y",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"http://livoniapubliclibrary.org/",tlnProfilePage:"https://tln.lib.mi.us/md/lvcc/",tlnCode:"LVCC32",selected:"n"},{name:"Livonia Public Library - Alfred Noble Branch",city:"Livonia",latitude:42.367759,longitude:-83.367728,sharedSystem:"y",miLibraryCard:"y","multi-branch":"y",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"http://livoniapubliclibrary.org/",tlnProfilePage:"https://tln.lib.mi.us/md/livn/",tlnCode:"LIVN19",selected:"n"},{name:"Livonia Public Library - Carl Sandburg Branch",city:"Livonia",latitude:42.42734,longitude:-83.343084,sharedSystem:"y",miLibraryCard:"y","multi-branch":"y",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"http://livoniapubliclibrary.org/",tlnProfilePage:"https://tln.lib.mi.us/md/livs/",tlnCode:"LIVS21",selected:"n"},{name:"Livonia Public Library - Vest Pocket Branch",city:"Livonia",latitude:42.396193,longitude:-83.372856,sharedSystem:"y",miLibraryCard:"y","multi-branch":"y",mel:"y",melVisitingPatron:"n",melAvBorrower:"y",website:"http://livoniapubliclibrary.org/",tlnProfilePage:"https://tln.lib.mi.us/md/livv/",tlnCode:"LIVV35",selected:"n"}]},45:function(e,t,n){e.exports=n(85)},50:function(e,t,n){},74:function(e,t,n){},78:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),a=n(19),r=n.n(a),l=(n(50),n(15)),s=n(2),c=n(3),d=n(5),u=n(4),p=n(6),m=n(7),h=n(10),b=n(43),f=(n(74),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e)))._handleSidebarStateChange=function(e){n.props.handleSidebarStateChange(e)},n._updateQuery=function(e){n.setState({query:e}),n.props.filterLocations(e)},n.state={query:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(b.slide,{right:!0,noOverlay:!0,disableOverlayClick:!0,isOpen:this.props.isOpen,onStateChange:function(t){return e._handleSidebarStateChange(t)}},o.a.createElement("div",{className:"search-box"},o.a.createElement("h1",{className:"sidebar-header"},"Locations"),o.a.createElement("p",null,"Now listing",o.a.createElement("span",null," ",this.props.filteredLocations?this.props.filteredLocations.length:10," "),"of",o.a.createElement("span",null," 10 libraries")),o.a.createElement("input",{type:"text",placeholder:"Search here",className:"search-input",id:"search-input",name:"filter",value:this.state.query,onChange:function(t){return e._updateQuery(t.target.value)}})),o.a.createElement("div",{className:"library-list"},this.props.filteredLocations&&this.props.filteredLocations.map(function(t,n){return o.a.createElement("li",{tabIndex:"0",key:"library-".concat(n),className:"library-list-items",onClick:function(){e.props.onViewportChange(t),e.props.openInfowindow(t)},onMouseOver:function(){e.props.openInfowindow(t)}},"".concat(t.name))})))}}]),t}(o.a.Component)),w=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.size,i=void 0===n?20:n,a=t.onClick,r=t.onMouseOver;return o.a.createElement("svg",{height:i,viewBox:"0 0 24 24",style:Object(l.a)({},{cursor:"pointer",fill:e.props.fill,stroke:"none",transform:"translate(".concat(-i/2,"px,").concat(-i,"px)")}),onClick:a,onMouseOver:r},o.a.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\nc0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\nC20.1,15.8,20.2,15.8,20.2,15.7z"}))}}]),t}(i.PureComponent),y=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.info,t="".concat(e.name),n="".concat(e.tlnCode);return o.a.createElement("div",{id:"infowindow-container"},o.a.createElement("div",{tabIndex:"0",role:"dialog","aria-labelledby":"dialog-title",id:"infowindow"},o.a.createElement("span",{id:"dialog-title"},t)," | ",n," | ",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"".concat(e.website)},"Website")))}}]),t}(i.PureComponent);n(76),n(78);n(80).config();var g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e)))._onViewportChange=function(e){n.props.onViewportChange(e)},n._mapClickToCloseInfowindow=function(e){"overlays"===e.target.className&&n.props.closeInfowindow()},n._closeInfowindow=function(){n.props.closeInfowindow()},n._openInfowindow=function(e){n.props.openInfowindow(e)},n._resize=n._resize.bind(Object(m.a)(Object(m.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this._resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resize)}},{key:"_resize",value:function(){this.props.onViewportChange({width:window.innerWidth,height:window.innerHeight})}},{key:"_renderPopup",value:function(){var e=this,t=this.props.popupInfo;return t&&o.a.createElement(h.d,{tipSize:5,anchor:"top",latitude:t.latitude,longitude:t.longitude,onClose:function(){return e._closeInfowindow()}},o.a.createElement(y,{info:t}))}},{key:"render",value:function(){var e=this;return o.a.createElement("main",{role:"application","aria-label":"map of libraries in The Library Network",tabIndex:"0"},o.a.createElement(h.e,Object.assign({},this.props.viewport,{mapStyle:"mapbox://styles/mapbox/streets-v9",mapboxApiAccessToken:"pk.eyJ1Ijoic3RldmVucmVtZW5hcHAiLCJhIjoiY2pndm5sODNmMTBlZDJ3bnY2ZTBsdnl3NyJ9.e4iOvDiQjPMT9ebCzL6CKA",onViewportChange:function(t){return e._onViewportChange(t)},onClick:function(t){return e._mapClickToCloseInfowindow(t)}}),this.props.filteredLocations&&this.props.filteredLocations.map(function(t,n){return o.a.createElement(h.b,{key:"marker-".concat(n),latitude:t.latitude,longitude:t.longitude,alt:t.name},o.a.createElement(w,{size:20,onMouseOver:function(){return e._openInfowindow(t)},onClick:function(){return e._openInfowindow(t)},popupInfo:e.props.popupInfo,fill:"y"===t.selected?"red":"blue"}))}),this._renderPopup(),o.a.createElement("div",{className:"map-nav"},o.a.createElement(h.c,{onViewportChange:function(t){return e._onViewportChange(t)}}))))}}]),t}(i.Component),v=n(44),C=(n(83),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.setState({filtered:n._filterLocations(n.state.all,"")})},n._handleSidebarStateChange=function(e){n.setState({sidebarOpen:e.isOpen},function(){this._handleSidebarFocus()})},n._handleSidebarFocus=function(){!0===n.state.sidebarOpen&&document.getElementById("search-input").focus()},n._updateQuery=function(e){n.setState({filtered:n._filterLocations(n.state.all,e)})},n._filterLocations=function(e,t){return e.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())})},n._closeInfowindow=function(){n.state.all.map(function(e){return e.selected="n"}),n.setState({popupInfo:null},function(){this._handleInfowindowFocus()})},n._openInfowindow=function(e){n.state.all.map(function(e){return e.selected="n"}),e.selected="y",n.setState({popupInfo:e},function(){this._handleInfowindowFocus(),document.querySelector(".mapboxgl-popup-content button").addEventListener("keydown",function(e){13===e.keyCode&&this._closeInfowindow()}.bind(this))})},n._handleInfowindowFocus=function(){n.state.popupInfo&&document.querySelector(".mapboxgl-popup-content button").focus(),n.state.popupInfo||!0!==n.state.sidebarOpen||document.getElementById("search-input").focus()},n._onViewportChange=function(e){n.setState({viewport:Object(l.a)({},n.state.viewport,e)})},n._goToViewport=function(e){var t=e.longitude,i=e.latitude;n._onViewportChange({longitude:t,latitude:i,zoom:14,transitionInterpolator:new h.a,transitionDuration:1e3})},n.state={viewport:{width:window.innerWidth,height:window.innerHeight,latitude:42.473091,longitude:-83.221076,zoom:10,maxZoom:17,bearing:0,pitch:0},sidebarOpen:!1,popupInfo:null,all:v,filtered:null,hasError:!1},n._openInfowindow=n._openInfowindow.bind(Object(m.a)(Object(m.a)(n))),n._closeInfowindow=n._closeInfowindow.bind(Object(m.a)(Object(m.a)(n))),n._handleSidebarStateChange=n._handleSidebarStateChange.bind(Object(m.a)(Object(m.a)(n))),n._onViewportChange=n._onViewportChange.bind(Object(m.a)(Object(m.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.hasError?o.a.createElement("h1",null,"Something went wrong!"):o.a.createElement("div",null,o.a.createElement(f,{onViewportChange:this._goToViewport,openInfowindow:this._openInfowindow,allLocations:this.state.all,filteredLocations:this.state.filtered,filterLocations:this._updateQuery,isOpen:this.state.sidebarOpen,handleSidebarStateChange:this._handleSidebarStateChange}),o.a.createElement(g,{viewport:this.state.viewport,onViewportChange:this._onViewportChange,popupInfo:this.state.popupInfo,openInfowindow:this._openInfowindow,closeInfowindow:this._closeInfowindow,allLocations:this.state.all,filteredLocations:this.state.filtered}))}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(i.Component));r.a.render(o.a.createElement(C,null),document.getElementById("root"))}},[[45,2,1]]]);
//# sourceMappingURL=main.210c4c49.chunk.js.map